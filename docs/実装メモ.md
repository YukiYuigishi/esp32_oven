# 実装メモ

## SSR制御（時間比例）

- P制御で算出したデューティ `u`（0.0〜1.0）を、固定ウィンドウ `window_ms` に割り当てる。
- ウィンドウ内のON時間 `Ton = u * window_ms` を計算し、`Ton` の間だけSSRをONにする。
- `min_on_ms` / `min_off_ms` を設定している場合、ON/OFFの最小時間を満たすように調整する。
- `RUNNING` 以外の状態ではSSRは常にOFF。

実装箇所:

- `updateSsrOutput()`（`src/main.cpp`）でウィンドウ開始時刻・ON時間計算・SSR出力を制御
- `computeControl()`（`src/main.cpp`）で P 制御の `u` を算出
